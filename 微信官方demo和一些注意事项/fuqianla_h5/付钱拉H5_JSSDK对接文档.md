## H5 SDK 接入指南
### 接入步骤
#### 第一步、通过script标签引入zeptojs库文件和h5jssdk文件
```javascript
<script src="/zepto.min.js"></script>
<script src="//m.fuqian.la/jssdk/h5jssdk.3.0.js"></script>
```

#### 第二步、初始化配置参数`opt`
#####此配置支持两种模式，一种是多通道列表，一种是单通道
1.多通道列表配置，此配置下会弹层显示所配置的支付通道

```javascript
//支付宝，微信公众号，银联为例
FUQIANLA.init({
    'appId': 'app89165c74ae2147cdaf9cd50b3696db58', //应用ID号
    'merchId': 'm1604140001', //商户号
    'orderId': Date.now(), //订单号，此处为模拟订单号。具体以接入为准
    'channel': 'ali_pay_wap,wx_pay_pub,yl_pay_wap', //开通的通道简称
    'amount': '0.01', //支付金额
    'subject': 'h5测试数据', //商品标题
    'notifyUrl': 'http://fuqian.la', //异步支付结果通知地址
    'extra':{
        'ali_pay_wap': {
            'return_url': 'http://fuqian.la'
        },
        'wx_pay_pub': {
            'openid': 'wx123sdfaf'
        },
        'yl_pay_wap': {
            'return_url': 'http://fuqian.la'
        }
    }
});
```

2.单通道配置，此配置下会直接跳所配置的支付通道

```javascript
//支付宝和京东为例
FUQIANLA.init({
    'appId': 'app89165c74ae2147cdaf9cd50b3696db58', //应用ID号
    'merchId': 'm1604140001', //商户号
    'orderId': Date.now(), //订单号，此处为模拟订单号。具体以接入为准
    'channel': 'ali_pay_wap', //开通的通道简称
    'amount': '0.01', //支付金额
    'subject': 'h5测试数据', //商品标题
    'notifyUrl': 'http://fuqian.la' //异步支付结果通知地址
});

FUQIANLA.init({
    'appId': 'app89165c74ae2147cdaf9cd50b3696db58', //应用ID号
    'merchId': 'm1604140001', //商户号
    'orderId': Date.now(), //订单号，此处为模拟订单号。具体以接入为准
    'channel': 'jd_pay_wap', //开通的通道简称
    'amount': '0.01', //支付金额
    'subject': 'h5测试数据', //商品标题
    'notifyUrl': 'http://fuqian.la', //异步支付结果通知地址
    'extra': {
        'return_url': 'http://fuqian.la'
    }
});
```

##### `opt`配置参数说明

参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
------------------------|------------------------|------------------------|------------------------|------------------------
appId|应用ID|String(35)|签约商户的应用ID号|Y
merchId|商户号|String(32)|签约商户唯一的用户号|Y
orderId|订单号|String(32)|合作商户唯一的订单号|Y
channel|通道|String|商户已开通支付通道简称，多通道用英文逗号(,)隔开|Y
amount|金额|String|该笔订单的金额总额，单位为RMB-Yuan。取值范围[0.01，100000000.00]，精确到小数点后两位|Y
subject|商品名称|String|商品标题/交易标题/订单标题/订单关键字等|Y
notifyUrl|服务器异步通知地址|String(254)|付钱拉服务器主动通知商户服务器指定路径|Y
body|交易详情|String|对该笔交易的具体描述信息|N
extra|扩展参数|Object|对通道必填参数扩展，多通道列表模式下得包含某些通道的简称，单通道模式下不需要|N

###### `extra`中各支付通道请求参数如下:

> * 支付宝WAP支付(`ali_pay_wap`)
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> return_url|返回地址|String(254)|支付成功后返回商户地址（查询字符？后面都会过滤，请不要传）|N
>
> * 微信公众号(`wx_pay_pub`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> openid|微信用户标识|String(254)|普通用户的标识，对当前公众号唯一|Y
> cb|回调函数|Function @param data|微信支付成功后返回data，并执行该回调|N
>
> * 银联WAP支付(`yl_pay_wap`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> return_url|返回地址|String(254)|支付成功后返回商户地址（查询字符？后面都会过滤，请不要传）|Y
>
> * 百度WAP支付(`bd_pay_wap`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> return_url|返回地址|String(254)|支付成功后返回商户地址（查询字符？后面都会过滤，请不要传）|N
>
> * 京东WAP支付(`jd_pay_wap`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> return_url|返回地址|String(254)|支付成功后返回商户地址（查询字符？后面都会过滤，请不要传）|Y
> token|token|String|识别用户信息,支付成功后会调用successCallbackUrl返回给商户|N
>
> * 易宝WAP支付(`yb_pay_wap`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> productcatalog|类别码|String(254)|商品类别码, 投资通为：30|Y
> identityid|用户标识|String|用户标识,商户生成的用户账号唯一标识|Y
>
> * 分期支付(`fq_pay_wap`）
>
> 参数                     |参数名称                 |类型(长度)                |参数说明                 |是否必填
> ------------------------|------------------------|------------------------|------------------------|------------------------
> phone|手机号|String(11)|手机号|Y
>

### 附录
做完以上步骤后，您已完成客户端配置。除此之外，您还需要完成异步通知部分的对接。请参考下载包内的支付结果异步通知部分。



